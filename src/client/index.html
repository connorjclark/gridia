<html>

<head>
  <title>Gridia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <script src="./main.ts"></script>
  <style>
    * {
      padding: 0;
      margin: 0;
      user-select: none;
    }

    html {
      overflow-x: hidden;
      overflow-y: hidden;
      width: 100%;
    }

    body {
      overflow-x: hidden;
      overflow-y: hidden;
      width: 100%;
      display: flex;
      flex-direction: column;
      background-color: darkgrey;
    }

    .hidden {
      display: none !important;
    }

    #canvases {
      flex-grow: 1;
      height: 75%;
      position: relative;
      border: 1px solid black;
    }

    .status-texts {
      position: absolute;
      bottom: 0;
      right: 0;
      pointer-events: none;
      color: yellow;
      padding: 5px;
    }
    .status-text {
      transition: 2s ease-in-out;
    }
    .status-text--remove {
      transform: translate(0, -100px);
      opacity: 0;
    }

    /* #glCanvas {
      position: absolute;
      left: 0;
      top: 0;
    }

    #ctxText {
      position: absolute;
      left: 0;
      top: 0;
      z-index: 2;
      pointer-events: none;
    } */

    .ui {
      display: flex;
      padding: 10px;
    }

    .instructions {
      width: 50%;
    }

    .instructions pre {
      word-wrap: break-word;
      white-space: pre-wrap;
    }

    .contextmenu {
      display: none;
      position: absolute;
      background: blanchedalmond;
      padding: 5px;
      border: 2px solid black;
    }

    .contextmenu div:hover {
      background: burlywood;
    }

    .panels-container {
      width: 50%;
    }
    .panels {
      border: black solid 1px;
      padding: 2px;
      height: 20vh;
      overflow-y: scroll;
    }
    .panel {
      display: none;
    }
    .panel--active {
      display: block;
    }
    .panels__tabs {
      display: flex;
      margin: 5px 0;
    }
    .panels__tab {
      margin-right: 3px;
      padding: 0 3px;
      border: black solid 1px;
    }
    .panels__tab--active {
      background-color: rgb(85, 85, 85);
      color: white;
    }

    .register {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    .register--form {
      background-color: gray;
      padding: 20px;
    }

    @media only screen and (max-width: 800px) {
      .instructions {
        display: none;
      }
    }
  </style>
</head>

<body>
  <div class="scene-controller">
    <button class="scene-controller--back-btn">Back</button>
  </div>

  <div class="start hidden">
    <div>
      <button class="start--local-btn">Local / Single Player</button>
    </div>

    <div>
      <label for="start--server-location">Server Location</label>
      <input type="text" name="server-location" id="start--server-location"></label>
      <button class="start--connect-btn">Connect</button>
    </div>
  </div>

  <div class="map-select hidden">
    <div class="map-list"></div>

    <div class="generate">
      <div class="generate--input-form"></div>
      <button class="generate--refresh-btn">Refresh</button>
      <button class="generate--select-btn">Select</button>
      <div class="generate--preview"></div>
    </div>
  </div>

  <div class="register hidden">
    <div class="register--form">
      <div>
        <label for="register--name">Name</label>
        <input type="text" name="name" id="register--name" maxlength="20"></label>
      </div>
      <button class="register-btn">Register</button>
    </div>
  </div>

  <div class="game hidden">
    <div id="canvases">
      <!-- <canvas id="glCanvas" height="480"></canvas>
          <canvas id="ctxText" height="680"></canvas> -->
      <div class="status-texts"></div>
    </div>
    <div class="ui">
      <div class="instructions">
        <!-- <p>Chat:</p>
              <textarea name="chat" id="chat" cols="30" rows="10">(not implemented)</textarea> -->
        <a href="https://github.com/connorjclark/gridia-2019-wip">GitHub</a>
        <pre>
  WASD to move character.
  Number keys / Click to equip tool in inventory.
  Arrow keys to select item in the world.
  Space to use tool on selected item in the world. Alt to use hand.
  To pick up item in the world: shift to pick up selected item, or drag and drop to inventory slot or character.
        </pre>
      </div>
      <div class="panels-container">
        <div class="panels">
          <div class="panel panel--selected-view panel--active">
            <div class="selected-view">
              <div class="selected-view--actions"></div>
              <span class="selected-view--details"><!-- insert details here --></span>
            </div>
          </div>
          <div class="panel panel--skills">
            <div class="skills"></div>
          </div>
          <div class="panel panel--settings">
            <div class="settings">
              <label for="volume">Volume</label>
              <input type="range" min="0" max="1" step="0.01" id="volume">
            </div>
          </div>
          <div class="panel panel--admin">
            <div class="admin">
              Admin panel.
            </div>
          </div>
        </div>
        <div class="panels__tabs">
          <div class="panels__tab panels__tab--active" data-panel="selected-view">View</div>
          <div class="panels__tab" data-panel="skills">Skills</div>
          <div class="panels__tab" data-panel="settings">Settings</div>
          <div class="panels__tab" data-panel="admin">Admin</div>
        </div>
      </div>
      <div class="contextmenu"></div>
    </div>
  </div>
</body>

</html>
